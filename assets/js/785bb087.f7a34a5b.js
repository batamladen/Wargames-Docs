"use strict";(globalThis.webpackChunkwargames_docs=globalThis.webpackChunkwargames_docs||[]).push([[858],{5300:(r,e,s)=>{s.r(e),s.d(e,{assets:()=>i,contentTitle:()=>c,default:()=>u,frontMatter:()=>a,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"Architecture/Backend/Flask Scripts/check-password","title":"check-password","description":"This script is used for the index page to check if the password for anonymous entery is correct.","source":"@site/docs/Architecture/Backend/Flask Scripts/check-password.md","sourceDirName":"Architecture/Backend/Flask Scripts","slug":"/Architecture/Backend/Flask Scripts/check-password","permalink":"/docs/Architecture/Backend/Flask Scripts/check-password","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Architecture/Backend/Flask Scripts/check-password.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"auth","permalink":"/docs/Architecture/Backend/Flask Scripts/auth"},"next":{"title":"flag","permalink":"/docs/Architecture/Backend/Flask Scripts/flag"}}');var t=s(4848),o=s(8453);const a={},c=void 0,i={},d=[{value:"Chack-password.py",id:"chack-passwordpy",level:2}];function p(r){const e={code:"code",h2:"h2",p:"p",pre:"pre",...(0,o.R)(),...r.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.p,{children:"This script is used for the index page to check if the password for anonymous entery is correct."}),"\n",(0,t.jsx)(e.h2,{id:"chack-passwordpy",children:"Chack-password.py"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:'#!/usr/bin/env python3\r\nfrom flask import Flask, request, jsonify\r\nfrom flask_cors import CORS\r\nimport logging\r\n\r\napp = Flask(__name__)\r\n\r\n# More permissive CORS for debugging (tighten this later)\r\nCORS(app, resources={\r\n    r"/check-password": {\r\n        "origins": ["*"],  # Temporary wildcard for debugging\r\n        "methods": ["POST", "OPTIONS"],\r\n        "allow_headers": ["Content-Type"]\r\n    }\r\n})\r\n\r\n@app.after_request\r\ndef after_request(response):\r\n    response.headers.add(\'Access-Control-Allow-Origin\', \'*\')\r\n    response.headers.add(\'Access-Control-Allow-Headers\', \'Content-Type\')\r\n    response.headers.add(\'Access-Control-Allow-Methods\', \'POST, OPTIONS\')\r\n    return response\r\n\r\nCORRECT_PASSWORD = "ScruMbLed_E99s"\r\n\r\n@app.route(\'/check-password\', methods=[\'POST\', \'OPTIONS\'])\r\ndef check_password():\r\n    if request.method == \'OPTIONS\':\r\n        return jsonify({}), 200\r\n        \r\n    try:\r\n        data = request.get_json()\r\n        print(f"Received data: {data}")  # Debug print\r\n        \r\n        if not data:\r\n            return jsonify({"error": "No data"}), 400\r\n            \r\n        password = data.get("password", "").strip()\r\n        print(f"Password attempt: \'{password}\'")  # Debug print\r\n        \r\n        if password == CORRECT_PASSWORD:\r\n            print("Password correct!")  # Debug print\r\n            return jsonify({\r\n                "success": True,\r\n                "redirect": "https://wargames.batamladen.com/home.html"\r\n            })\r\n        else:\r\n            print(f"Wrong password. Expected: {CORRECT_PASSWORD}, Got: {password}")  # Debug\r\n            return jsonify({"success": False}), 403\r\n            \r\n    except Exception as e:\r\n        print(f"Error: {str(e)}")  # Debug print\r\n        return jsonify({"error": str(e)}), 500\r\n\r\nif __name__ == \'__main__\':\r\n    app.run(host=\'0.0.0.0\', port=8080, debug=True)\r\n\n'})})]})}function u(r={}){const{wrapper:e}={...(0,o.R)(),...r.components};return e?(0,t.jsx)(e,{...r,children:(0,t.jsx)(p,{...r})}):p(r)}},8453:(r,e,s)=>{s.d(e,{R:()=>a,x:()=>c});var n=s(6540);const t={},o=n.createContext(t);function a(r){const e=n.useContext(o);return n.useMemo(function(){return"function"==typeof r?r(e):{...e,...r}},[e,r])}function c(r){let e;return e=r.disableParentContext?"function"==typeof r.components?r.components(t):r.components||t:a(r.components),n.createElement(o.Provider,{value:e},r.children)}}}]);